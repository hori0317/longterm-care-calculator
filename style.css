 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/style.css b/style.css
index 7da1cc04e9d8af77109e35a204186060ddef9dad..323da3935d41d7d68758246e5c55f6d27b94691e 100644
--- a/style.css
+++ b/style.css
@@ -49,75 +49,80 @@ a:hover{ text-decoration:underline; }
 }
 .wm-item{
   position:absolute;
   font-weight:800;
   font-size:var(--wm-size);
   color:rgba(0,0,0,var(--wm-alpha));
   transform:rotate(var(--wm-angle));
   white-space:nowrap;
   user-select:none;
   will-change:transform;
   animation:wm-sway var(--dur,12s) ease-in-out infinite alternate;
 }
 @keyframes wm-sway{
   0%{ transform:translateX(0) rotate(var(--wm-angle)); }
   100%{ transform:translateX(var(--wm-shift)) rotate(var(--wm-angle)); }
 }
 @media print{
   .watermark{ opacity:.08; }
 }
 
 /* ===================== 頂部列（固定） ===================== */
 .topbar{
   position:sticky;
   top:0;
   z-index:1000;
+  background:rgba(255,253,245,.9);
+  backdrop-filter:blur(6px);
+  border-bottom:1px solid var(--line);
+}
+.topbar .inner{
   display:grid !important;
   grid-template-columns:auto 1fr auto;
   align-items:center;
   padding:14px 24px;
-  background:rgba(255,253,245,.9);
-  backdrop-filter:blur(6px);
-  border-bottom:1px solid var(--line);
   overflow-x:auto;
   -webkit-overflow-scrolling:touch;
 }
 .brand{
   display:flex; align-items:center; gap:16px;
   font-weight:700; letter-spacing:1px;
   flex:0 0 auto; min-width:max-content; white-space:nowrap;
 }
 .brand img{ height:60px; width:auto; transition:transform .3s ease; display:block; }
 .brand img:hover{ transform:scale(1.08); }
 .site-title{ font-size:20px; font-weight:700; margin-right:28px; white-space:nowrap; }
 
 /* 導覽列：中間置中 */
-.nav-links{
+.nav-wrap{
   grid-column:2;
+  overflow-x:auto;
+  -webkit-overflow-scrolling:touch;
+}
+.nav-links{
   display:flex; justify-content:center; align-items:center;
   gap:40px; white-space:nowrap;
-  overflow-x:auto; -webkit-overflow-scrolling:touch;
 }
 .nav-links a{
   text-decoration:none; color:#333; font-weight:600;
   transition:color .2s, transform .2s;
   white-space:nowrap;
   position:relative;
   padding:8px 4px;
 }
 .nav-links a:hover{ color:var(--orange); transform:translateY(-1px); }
 .nav-links a.active{ color:var(--orange); }
 .nav-links a.active::after{
   content:""; position:absolute; left:0; right:0; bottom:-6px;
   height:3px; background:var(--orange); border-radius:3px;
 }
 
 /* 右側按鈕區 */
 .actions{
   grid-column:3;
   display:flex; align-items:center; gap:10px; justify-self:end; white-space:nowrap;
 }
 .actions-ghost{ min-width:320px; height:1px; }
 .divider{ height:10px; }
 
 /* ===================== 底部資訊條（固定） ===================== */
 .footerbar{
@@ -217,77 +222,77 @@ a:hover{ text-decoration:underline; }
 .qr-right .bold{ font-weight:800; }
 .qr-right .orange{ color:var(--orange); font-weight:700; }
 .card .qrbox{ margin-top:20px; border-top:1px dashed var(--line); padding-top:14px; }
 
 /* ===================== 服務表格（桌機） ===================== */
 #tables{ width:100%; }
 #tables table{
   width:100%; border-collapse:separate; border-spacing:0; background:#fff;
   border:1px solid var(--line); border-radius:12px; overflow:hidden;
 }
 #tables thead th{
   position:sticky; top:0; z-index:5;
   background:#f6f1d9; color:#584f2a; padding:12px 18px; border-bottom:1px solid var(--line);
   font-weight:800;
 }
 #tables th:first-child, #tables td:first-child{ text-align:left; padding-left:18px; }
 #tables td{ padding:12px 18px; border-top:1px solid var(--line); vertical-align:middle; }
 #tables tbody tr:nth-child(even){ background:#fffef9; }
 
 #tables input[type="number"]{ width:70px; height:36px; font-size:15px; text-align:center; margin:0 auto; display:block; }
 
 /* ===================== 手機／平板優化 ===================== */
 @media (max-width:860px){
   .grid-3{ grid-template-columns:1fr; gap:14px; }
   .card{ padding:14px; }
-  .topbar{ padding:14px 16px; }
+  .topbar .inner{ padding:14px 16px; }
   .footerbar{ padding-bottom:max(10px, env(safe-area-inset-bottom)); }
 
   #tables{ overflow-x:auto; -webkit-overflow-scrolling:touch; padding-bottom:calc(var(--dock-h) + 14px); display:block; }
   #tables table{ min-width:780px; table-layout:fixed; width:max-content; }
   #tables th,#tables td{ padding:10px 12px; font-size:14px; line-height:1.2; white-space:nowrap; }
   #tables input[type="number"]{ width:58px; height:32px; font-size:14px; }
 
   .foot{ gap:12px; font-size:14px; }
 }
 
 /* ===================== 列印 ===================== */
 @media print{
   .topbar,.footerbar{ display:none !important; }
   body{ padding:0; background:#fff; }
   .card{ box-shadow:none; }
   #tables thead th{ position:static; }
 }
 
 /* ===================== 禁止選取文字與拖曳圖片 ===================== */
 *{
   -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none;
 }
 img,a img{ -webkit-user-drag:none; user-drag:none; }
 
 /* ========================================================= ▼▼▼ 修補區 ========================================================= */
-.topbar,.nav-links{ overflow-x:auto !important; overflow-y:hidden !important; -webkit-overflow-scrolling:touch; }
+.topbar .inner,.nav-wrap,.nav-links{ overflow-x:auto !important; overflow-y:hidden !important; -webkit-overflow-scrolling:touch; }
 .nav-links a{
   position:relative !important; display:inline-flex !important; align-items:center;
   padding:8px 4px 10px !important; border-bottom:2px solid transparent !important;
   transition:color .2s, transform .2s, border-color .2s !important;
 }
 .nav-links a:hover{ transform:translateY(-1px) !important; }
 .nav-links a.active{
   color:var(--orange) !important; transform:translateY(-1.5px) !important; border-bottom-color:var(--orange) !important;
 }
 
 #tables th:first-child, #tables td:first-child{ text-align:left !important; padding-left:18px !important; }
 #tables th:not(:first-child), #tables td:not(:first-child){
   text-align:center !important; font-variant-numeric:tabular-nums !important;
 }
 #tables input[type="number"]{ text-align:center !important; margin:0 auto !important; display:block !important; }
 
 /* ========================================================= ▼▼▼ 卡片文字樣式：版本2 風格（append-only） ========================================================= */
 .card-title{ font-size:18px; font-weight:800; margin:0 0 12px 0; color:#2f2f20; }
 .service-card h3{ margin:24px 0 10px 2px !important; font-size:16px !important; font-weight:800 !important; color:#6b6544 !important; }
 .kv .kv-row{ display:flex; justify-content:space-between; align-items:center; padding:6px 0; font-weight:600; color:#2f2f20; }
 .addon-head span:last-child{ text-align:right; padding-right:18px; }
 .hint{ color:var(--muted); font-size:13px; }
 #tables thead th{ text-align:center !important; }
 #tables td,#tables th{ text-align:center; vertical-align:middle; font-variant-numeric:tabular-nums; }
 #tables th:first-child,#tables td:first-child{ text-align:left !important; padding-left:18px !important; }
 
EOF
)
