/* ===== 共用：頂欄固定版面，所有頁面載入這一份 =====
   原則：
   1) 只處理「結構/對齊/寬度/底線(::after)」；不重設全站色票，避免與 style.css 打架
   2) 底線用 ::after 畫「單一真相」，common.css 不畫底線只負責上浮/顏色
*/

:root{
  --inner-max: 1160px;   /* 內層寬度，所有頁一致 */
  --nav-width: 720px;    /* 導覽列固定寬度（桌機用），確保位置不變 */
}

/* 基線 */
*{ box-sizing: border-box; }
html,body{ height: 100%; }
body{
  margin: 0;
  color: var(--ink);
  background: var(--bg);
}

/* 頂欄外層（黏上方） */
.topbar{
  position: sticky;
  top: 0;
  z-index: 1000;
  background: var(--bg);
  border-bottom: 1px solid var(--line);
}

/* 內層：寬度固定，置中 */
.topbar .inner{
  max-width: var(--inner-max);
  margin: 0 auto;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

/* 品牌區 */
.brand{
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 220px;
}
.logo-link img{ height: 38px; width: auto; display: block; }
.site-title{ font-weight: 800; letter-spacing: .05em; white-space: nowrap; }

/* ===========================
   中間導覽列（桌機：六等分）
   =========================== */
.nav-wrap{
  display: flex;
  justify-content: center;
  flex: 1;
  overflow: hidden; /* 桌機不需要捲動 */
}
.nav-links{
  width: var(--nav-width);
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  place-items: center;
  gap: 0;
}
.nav-links a{
  text-decoration: none;
  color: var(--ink);
  font-weight: 700;
  padding: 8px 0;
  position: relative;
  white-space: nowrap;
  transition: transform .15s ease;
}
.nav-links a:hover{ transform: translateY(-1px); }

/* 目前頁：顏色交給主題，底線由本檔 ::after 畫 */
.nav-links a.active{ color: var(--orange); }
.nav-links a.active::after{
  content: "";
  position: absolute;
  left: 12%; right: 12%;
  bottom: -6px;
  height: 2.5px;
  background: var(--orange);
  border-radius: 3px;
}
.nav-links a.active{
  text-decoration: none !important;
  border-bottom: none !important;
}

/* 右側動作區：為了對齊，寬度固定，避免每頁按鈕不同而擠壓 */
.actions{
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: flex-end;
  min-width: 220px;
}
.actions-ghost{ visibility:hidden; min-width:220px; } /* lite 版佔位 */

.btn{ border: 0; padding: 8px 14px; border-radius: 8px; font-weight: 700; cursor: pointer; background: #eee; }
.pill{ border-radius: 999px; }
.btn-orange{ background: var(--orange); color: #fff; }
.btn-green{ background: #2e7d32; color: #fff; }
.btn-gray{ background: #9ca3af; color: #fff; }

/* 分隔線（頂欄下方） */
.divider{ height: 8px; }

/* 內容容器（版心同寬） */
.container{
  max-width: var(--inner-max);
  margin: 0 auto;
  padding: 16px;
}

/* ===========================
   響應式：寬度 <= 980px 時
   導覽列改為可水平滑動的分頁
   =========================== */
@media (max-width: 980px){
  .topbar .inner{ padding: 10px 12px; gap: 12px; }

  /* 允許水平滑動；加入邊緣漸層遮罩 */
  .nav-wrap{
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox 隱藏滾動條 */
    mask-image: linear-gradient(90deg,
      rgba(0,0,0,0) 0px,
      rgba(0,0,0,1) 16px,
      rgba(0,0,0,1) calc(100% - 16px),
      rgba(0,0,0,0) 100%);
  }
  .nav-wrap::-webkit-scrollbar{ display:none; } /* Chrome 隱藏滾動條 */

  /* 改為 flex 流動，並啟用 scroll-snap */
  .nav-links{
    width: auto;
    display: flex;
    gap: 18px;
    padding: 6px 4px 10px; /* 留底線的空間 */
    scroll-snap-type: x mandatory;
  }
  .nav-links a{
    scroll-snap-align: center;
    font-weight: 800;
    padding: 8px 2px;
    font-size: 15px;
  }

  /* 縮小兩側固定寬度，避免擠壓 */
  .brand{ min-width: 160px; }
  .actions, .actions-ghost{ min-width: 160px; }
}

/* 再更窄一點時，字更小、間距再收 */
@media (max-width: 720px){
  .nav-links{ gap: 14px; }
  .nav-links a{ font-size: 14px; }
}
